title: Climate
path: climate
theme: Backend-selected
icon: mdi:thermometer
type: custom:grid-layout
layout:
  grid-template-columns: repeat (12, 1fr)
  grid-template-rows: auto
  grid-template-areas: |
    ". . . test test test test test test . . ."
    ". . . temps temps temps temps temps temps . . ."
    ". . . humidity humidity humidity humidity humidity humidity . . ."
    ". . . boat_pressure boat_pressure boat_pressure boat_pressure boat_pressure boat_pressure . . ."
    ". . . forecast forecast forecast forecast forecast forecast . . ."
    "rain rain rain rain rain rain wind wind wind wind wind wind"
  mediaquery:
    "(max-width: 690px)":
      grid-template-columns: 9fr 1fr
      grid-template-areas: |
        "test test"
        "temps temps"
        "humidity humidity"
        "boat_temp boat_temp"
        "boat_humidity boat_humidity"
        "boat_pressure boat_pressure"
        "forecast forecast"
        "rain ."
        "wind ."
badges: []
cards:
  - type: picture-elements
    title: Interior Climate - Last 72 hours
    image: /local/images/BatteryBackground.png
    aspect_ratio: 60%
    icon: mdi:thermometer
    elements:
      - type: custom:mini-graph-card
        line_width: 3
        name: Temperature
        entities:
          - entity: sensor.lumi_lumi_weather_temperature_3
            name: "Bedroom"
            color: cyan
          - entity: sensor.lumi_lumi_weather_temperature_2
            name: "Bathroom"
            color: blue
          - entity: sensor.lumi_lumi_weather_temperature
            name: "Lounge"
            color: red
          - entity: sun.sun
            color: pink
            show_line: false
            show_points: false
            show_legend: false
            y_axis: secondary
        state_map:
          - value: "below_horizon"
          - value: "above_horizon"
        hours_to_show: 72
        points_per_hour: 1
        show:
          legend: false
          labels: true
          state: false
          points: false
        style:
          transform: none
          top: 14%
          left: 0
          width: 100%
      - type: custom:mini-graph-card
        line_width: 3
        name: Humidity
        entities:
          - entity: sensor.lumi_lumi_weather_humidity_3
            name: "Bedroom"
            color: cyan
          - entity: sensor.lumi_lumi_weather_humidity_2
            name: "Bathroom"
            color: blue
          - entity: sensor.lumi_lumi_weather_humidity
            name: "Lounge"
            color: red
          - entity: sun.sun
            color: pink
            show_line: false
            show_points: false
            show_legend: false
            y_axis: secondary
        state_map:
          - value: "below_horizon"
          - value: "above_horizon"
        hours_to_show: 72
        points_per_hour: 1
        show:
          legend: false
          labels: true
          state: false
          points: false
        style:
          transform: none
          top: 55%
          left: 0
          width: 100%
      - type: icon
        icon: mdi:square-rounded
        style:
          top: 40px
          left: 15%
          color: cyan
          '--mdc-icon-size': 130px
      - type: icon
        icon: mdi:square-rounded
        style:
          top: 40px
          left: 15%
          color: cyan
          filter: brightness(50%)
          '--mdc-icon-size': 120px
      - type: icon
        icon: mdi:bed
        style:
          transform: translate(-50%, 0)
          top: -5px
          left: 15%
          color: cyan
      - type: custom:text-element
        text: "Bedroom"
        style:
          transform: translate(-50%, 0)
          font-size: 15px
          font-weight: bold
          top: 20px
          left: 15%
      - type: state-label
        entity: sensor.lumi_lumi_weather_temperature_3
        style:
          transform: translate(-50%, 0)
          top: 33px
          left: 15%
      - type: state-label
        entity: sensor.lumi_lumi_weather_humidity_3
        style:
          transform: translate(-50%, 0)
          top: 53px
          left: 15%
      - type: icon
        icon: mdi:square-rounded
        style:
          top: 40px
          left: 50%
          color: blue
          '--mdc-icon-size': 130px
      - type: icon
        icon: mdi:square-rounded
        style:
          top: 40px
          left: 50%
          color: blue
          filter: brightness(50%)
          '--mdc-icon-size': 120px
      - type: icon
        icon: mdi:shower-head
        style:
          transform: translate(-50%, 0)
          top: -5px
          left: 50%
          color: blue
      - type: custom:text-element
        text: "Bathroom"
        style:
          transform: translate(-50%, 0)
          font-size: 15px
          font-weight: bold
          top: 20px
          left: 50%
      - type: state-label
        entity: sensor.lumi_lumi_weather_temperature_2
        style:
          transform: translate(-50%, 0)
          top: 33px
          left: 50%
      - type: state-label
        entity: sensor.lumi_lumi_weather_humidity_2
        style:
          transform: translate(-50%, 0)
          top: 53px
          left: 50%
      - type: icon
        icon: mdi:square-rounded
        style:
          top: 40px
          left: 85%
          color: red
          '--mdc-icon-size': 130px
      - type: icon
        icon: mdi:square-rounded
        style:
          top: 40px
          left: 85%
          color: red
          filter: brightness(50%)
          '--mdc-icon-size': 120px
      - type: icon
        icon: mdi:sofa
        style:
          transform: translate(-50%, 0)
          top: -5px
          left: 85%
          color: red
      - type: custom:text-element
        text: "Lounge"
        style:
          transform: translate(-50%, 0)
          font-size: 15px
          font-weight: bold
          top: 20px
          left: 85%
      - type: state-label
        entity: sensor.lumi_lumi_weather_temperature
        style:
          transform: translate(-50%, 0)
          top: 33px
          left: 85%
      - type: state-label
        entity: sensor.lumi_lumi_weather_humidity
        style:
          transform: translate(-50%, 0)
          top: 53px
          left: 85%
    view_layout:
      grid-area: test
  - type: custom:mini-graph-card
    name: Barometer - 1 week
    height: 200
    hours_to_show: 168
    points_per_hour: 0.5
    animate: true
    entities:
      - entity: sensor.lumi_lumi_weather_pressure
    show:
      labels: true
    color_thresholds:
      - value: 1020
        color: "#ff0000"        
      - value: 1013
        color: "#00ff00"
      - value: 1000
        color: "#0000ff"
    view_layout:
      grid-area: boat_pressure
  - type: custom:config-template-card
    entities:
      - sensor.rut955_gps_latitude_coordinate
      - sensor.rut955_gps_longitude_coordinate
    card:
      type: iframe
      url: >-
        ${'https://embed.windy.com/embed2.html?lat='+states['sensor.rut955_gps_latitude_coordinate'].state+'&lon='+states['sensor.rut955_gps_longitude_coordinate'].state+'&width=650&height=450&zoom=8&level=surface&overlay=rain&product=ecmwf&menu=&message=true&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=mph&metricTemp=%C2%B0C'}
      aspect_ratio: 100%
    view_layout:
      grid-area: rain
  - type: custom:config-template-card
    entities:
      - sensor.rut955_gps_latitude_coordinate
      - sensor.rut955_gps_longitude_coordinate
    card:
      type: iframe
      url: >-
        ${'https://embed.windy.com/embed2.html?lat='+states['sensor.rut955_gps_latitude_coordinate'].state+'&lon='+states['sensor.rut955_gps_longitude_coordinate'].state+'&width=650&height=450&zoom=8&level=surface&overlay=wind&product=ecmwf&menu=&message=true&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=mph&metricTemp=%C2%B0C'}
      aspect_ratio: 100%
    view_layout:
      grid-area: wind
  - type: vertical-stack
    cards:
      - type: weather-forecast
        entity: weather.moonlight_hourly
      - type: weather-forecast
        entity: weather.moonlight
        show_current: false
    view_layout:
      grid-area: forecast