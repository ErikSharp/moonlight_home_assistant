# lovelace_gen

{% macro tile(light, name, grid_area) %}
  - name: {{ name }}
    features:
      - type: light-brightness
    type: tile
    color: accent
    entity: {{ light }}
    view_layout:
      grid-area: {{ grid_area }}
{% endmacro %}

{% macro button(name, entity, icon, grid_area) %}
  - name: {{ name }}
    type: button
    entity: {{ entity }}
    show_state: true
    icon: {{ icon }}
    icon_height: 50px
    tap_action:
      action: call-service
      service: switch.toggle
      data:
        entity_id: switch.switch_1
    view_layout:
      grid-area: {{ grid_area }}
{% endmacro %}

title: Control
path: control
theme: Backend-selected
icon: mdi:lightbulb-on
type: custom:grid-layout
layout:
  grid-template-columns: repeat (4, 1fr)
  grid-template-rows: 40px 50px repeat(4, 125px) 50px 200px
  grid-template-areas: |
    "back . . ."
    "lights-label . . ."
    "stern stern_omni engine utility"
    "galley dinette pendant gunwale"
    ". lounge lounge_wall ." 
    "bathroom bedroom bedroom_wall tunnel"
    "other . . ."
    ". inverter inverter ."
  mediaquery:
    "(max-width: 690px)":
      grid-template-columns: 50% 50%
      grid-template-rows: 40px 50px repeat(7, 125px) 50px 200px
      grid-template-areas: |
        "back ."
        "lights-label ."
        "stern stern_omni"
        "engine utility"
        "galley dinette"
        "pendant gunwale"
        "lounge lounge_wall"
        "bathroom bedroom"
        "bedroom_wall tunnel"
        "other ."
        "inverter inverter"
badges: []
cards:
  - type: "custom:button-card"
    template: chip_back
    variables:
      ulm_chip_back_path: /lovelace/home
    view_layout:
      grid-area: back
  - type: 'custom:button-card'
    template: card_title
    name: Lights
    view_layout:
      grid-area: lights-label
    card_mod:
      style: |
        ha-card {
          border-style: unset;
          color: tan;
          margin-left: 0px !important;
        }
  {{ tile("light.utility", "Utility", "utility") }}
  {{ tile("light.galley", "Galley", "galley") }}
  {{ tile("light.dinette", "Dinette", "dinette") }}
  {{ tile("light.pendant", "Pendant", "pendant") }}
  {{ tile("light.stern", "Stern", "stern") }}
  {{ tile("light.bathroom", "Bathroom", "bathroom") }}
  {{ tile("light.lounge", "Lounge", "lounge") }}
  {{ tile("light.lounge_wall", "Lounge Wall", "lounge_wall") }}
  {{ tile("light.bedroom", "Bedroom", "bedroom") }}
  {{ tile("light.bedroom_wall", "Bedroom Wall", "bedroom_wall") }}
  {{ tile("light.gunwale", "Gunwale", "gunwale") }}
  {{ button("Engine Bay", "switch.switch_1", "mdi:engine", "engine")}}
  {{ button("Stern Light", "switch.switch_2", "mdi:bulkhead-light", "stern_omni")}}
  {{ button("Tunnel Light", "switch.switch_4", "mdi:car-light-high", "tunnel")}}
  - type: 'custom:button-card'
    template: card_title
    name: Other
    view_layout:
      grid-area: other
    card_mod:
      style: |
        ha-card {
          border-style: unset;
          color: tan;
          margin-left: 0px !important;
        }
  - type: entities
    title: Inverter
    entities:
      - input_select.inverter_switch_request
      - sensor.victron_inverter
    view_layout:
      grid-area: inverter